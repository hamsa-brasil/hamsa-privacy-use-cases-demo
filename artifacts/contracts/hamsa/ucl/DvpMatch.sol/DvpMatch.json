{
  "_format": "hh-sol-artifact-1",
  "contractName": "DvpMatch",
  "sourceName": "contracts/hamsa/ucl/DvpMatch.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "BlockCommit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "BundleExpire",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "BundleFill",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "bundleExpired",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "bundleFilled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "bundleMap",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "blockNum",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "l1BlockNum",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expireTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "bundleHash",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "completed",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newBlockNumber",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "newBlockHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newStateRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newTransactionRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newBundleRequestRoot",
          "type": "bytes32"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "blockNum",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "transactionHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "expireTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "index",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "chunkHash",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "bundleHash",
              "type": "uint256"
            }
          ],
          "internalType": "struct DvpMatch.BundleRequest[]",
          "name": "requests",
          "type": "tuple[]"
        }
      ],
      "name": "commitBatchWithBundles",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLastBlock",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "blockNumber",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "blockHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "l2StateRoot",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "l2TransactionRoot",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "l2ReceiptRoot",
              "type": "bytes32"
            }
          ],
          "internalType": "struct DvpMatch.Block",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "a",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "b",
          "type": "bytes32"
        }
      ],
      "name": "hash",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "a",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "b",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "c",
          "type": "uint256"
        }
      ],
      "name": "hash4",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "genesisStateRoot",
          "type": "bytes32"
        }
      ],
      "name": "initializeGenesisState",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "sequencerBlocks",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "lastBlockNum",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "blockNum",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "bundleHash",
          "type": "uint256"
        }
      ],
      "name": "triggerBundleEvents",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234601957604051610d4261001f8239610d4290f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c80631abc4590146100b2578063412f9cac146100ad5780635aeccf58146100a85780637b6ddab2146100a35780637f2c4ca81461009e5780638abd0c42146100995780639e83988314610094578063c93a89b11461008f578063da8da4361461008a5763dbb3aef5036100c057610516565b6104fa565b6104b6565b61041a565b6103f1565b6103c3565b61032f565b610256565b6101c2565b610174565b805b036100c057565b600080fd5b905035906100d2826100b7565b565b909182601f830112156100c05781359167ffffffffffffffff83116100c0576020019260c083028401116100c057565b9160c0838303126100c05761011982846100c5565b9261012783602083016100c5565b9261013581604084016100c5565b9261014382606085016100c5565b9261015183608083016100c5565b9260a082013567ffffffffffffffff81116100c05761017092016100d4565b9091565b346100c057610193610187366004610104565b95949094939193610631565b604051005b0390f35b91906040838203126100c0576101bf9060206101b882866100c5565b94016100c5565b90565b346100c0576101986101de6101d836600461019c565b906106df565b6040519182918290815260200190565b906020828203126100c0576101bf916100c5565b6101bf6101bf6101bf9290565b9061021990610202565b600052602052604060002090565b6101bf916008021c5b60ff1690565b906101bf9154610227565b60006102516101bf92600361020f565b610236565b346100c05761019861027161026c3660046101ee565b610241565b60405191829182901515815260200190565b6101bf9081565b6101bf9054610283565b6101bf90610230565b6101bf9054610294565b6102b290600161020f565b6102bb8161028a565b916102c86001830161028a565b916102d56002820161028a565b916101bf600a6102e76003850161028a565b930161029d565b909594926100d2946103206103279261031960809661031260a088019c6000890152565b6020870152565b6040850152565b6060830152565b019015159052565b346100c05761019861034a6103453660046101ee565b6102a7565b9161035795939560405190565b958695866102ee565b60009103126100c057565b805182526100d29190608090819061038860208201516020860152565b61039760408201516040860152565b6103a660608201516060860152565b0151910152565b90815260c0810192916100d2916020019061036b565b346100c0576103d3366004610360565b6103db610819565b906101986103e860405190565b928392836103ad565b346100c05761019361040436600461019c565b90610850565b60006102516101bf92600261020f565b346100c0576101986102716104303660046101ee565b61040a565b6001600160a01b031690565b6001600160a01b0381166100b9565b905035906100d282610441565b906020828203126100c0576101bf91610450565b6101bf90610435906001600160a01b031682565b6101bf90610471565b6101bf90610485565b906102199061048e565b60006104b06101bf9282610497565b0161028a565b346100c0576101986101de6104cc36600461045d565b6104a1565b90916060828403126100c0576101bf6104ea84846100c5565b9360406101b882602087016100c5565b346100c0576101986101de6105103660046104d1565b91610907565b346100c0576105263660046101ee565b50604051005b634e487b7160e01b600052603260045260246000fd5b91908110156105525760c0020190565b61052c565b634e487b7160e01b600052604160045260246000fd5b90601f01601f1916810190811067ffffffffffffffff82111761058f57604052565b610557565b906100d26105a160405190565b928361056d565b919060c0838203126100c05761061f9060a06105c460c0610594565b946105cf83826100c5565b86526105de83602083016100c5565b60208701526105f083604083016100c5565b604087015261060283606083016100c5565b606087015261061483608083016100c5565b6080870152016100c5565b60a0830152565b6101bf9036906105a8565b505050505061063d8290565b906106486000610202565b821161065357505050565b9091926106606000610202565b835b811015610698576106918161068b610686610681610662958a89610542565b610626565b610a1c565b60010190565b9050610660565b5092505050565b905051906100d2826100b7565b906020828203126100c0576101bf9161069f565b9081526040810192916100d29160200152565b6040513d6000823e3d90fd5b6107249160209173__$036d25039a4b0bb460f2ca15f2d7e6d9a6$__9061070560405190565b80958194829361071963b30c0b6a60e01b90565b8452600484016106c0565b03915af49081156107635760009161073a575090565b6101bf915060203d60201161075c575b610754818361056d565b8101906106ac565b503d61074a565b6106d3565b6101bf60a0610594565b61077a610768565b906000825260208080808086016000815201600081520160008152016000905250565b6101bf610772565b906100d261080960046107b6610768565b946107c76107c38261028a565b8752565b6107dd6107d66001830161028a565b6020880152565b6107f36107ec6002830161028a565b6040880152565b6104b06108026003830161028a565b6060880152565b6080840152565b6101bf906107a5565b60019061082461079d565b506101bf61084b6108396101bf336000610497565b6108428161028a565b9485910161020f565b610810565b907f6ed870f1094df8ae179fc69b273f1d04bfa3209cfd5615f7f958ca38e4973b729161088861087f60405190565b928392836106c0565b0390a1565b67ffffffffffffffff811161058f5760200290565b6108ae6101bf9161088d565b610594565b6108c36108bf60039390565b9190565b6000915b8383106108d45750505050565b6108ee6108e76001928451815260200190565b9260200190565b920191906108c7565b6060810192916100d291906108b3565b60209161095261072494610919600090565b5061094b73__$a390c41b61544fac4fceb1a345840d0d2f$__9361094561094060036108a2565b968752565b86860152565b6040840152565b604051938492839182916320cf0a3760e01b8352600483016108f7565b90600019905b9181191691161790565b9061098f6101bf61099692610202565b825461096f565b9055565b9060ff90610975565b906109b36101bf61099692151590565b825461099a565b6003821015610552570190600090565b9160001960089290920291821b911b610975565b91906109ef6101bf61099693610202565b9083546109ca565b91906109ef6101bf6109969390565b6101bf916008021c81565b906101bf9154610a06565b60a08101805190600291610a38610a33828561020f565b61029d565b8015610cf8575b610b8757600193610a536101bf838761020f565b93610a5d8561028a565b93600094610a6d6108bf87610202565b14610c745750610a7e81860161028a565b4211610c245760608201516080830151926004870193610a9e83866109ba565b610aa892916109de565b6020015190610aba90600788016109ba565b610ac492916109f7565b839173__$a390c41b61544fac4fceb1a345840d0d2f$__90610ae660036108a2565b92610af187836109ba565b610afa91610a11565b87850152610b0889836109ba565b610b1191610a11565b6020850152610b1f916109ba565b610b2891610a11565b604083015260405191829081906320cf0a3760e01b8252610b4c90600483016108f7565b03815a93602094f490811561076357600091610c05575b50610b766108bf6101bf6003880161028a565b14610bfe575b151584151514610b8d575b50505050565b610bde610be592610bd786610bd2600395610bcc7f6ed870f1094df8ae179fc69b273f1d04bfa3209cfd5615f7f958ca38e4973b729a600a8b016109a3565b8661020f565b6109a3565b840161028a565b920161028a565b90610bf261087f60405190565b0390a138808080610b87565b5083610b7c565b610c1e915060203d60201161075c57610754818361056d565b38610b63565b84915085610bd2846104b093610c637fb3f13f29de5da1d79d4718ccd5f080dcdc62e0e86916c8a475520ae1a67cb1d89a600a610c689a999b016109a3565b61020f565b61088861087f60405190565b8293508491610cbc6100d298610cb3610caa610cc995610ca68c89610c9f610cf29e610cd29d015190565b910161097f565b5190565b60038b0161097f565b4390890161097f565b604085015190870161097f565b600a85016109a3565b610cec60606004610ce4608085015190565b950192015190565b906109ba565b906109de565b50610d07610a3382600361020f565b610a3f56fea2646970667358221220784116c045f578472584c8b49dcebb0ece28cee1d56787ef8cfc04699f1613d064736f6c63430008190033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b60003560e01c80631abc4590146100b2578063412f9cac146100ad5780635aeccf58146100a85780637b6ddab2146100a35780637f2c4ca81461009e5780638abd0c42146100995780639e83988314610094578063c93a89b11461008f578063da8da4361461008a5763dbb3aef5036100c057610516565b6104fa565b6104b6565b61041a565b6103f1565b6103c3565b61032f565b610256565b6101c2565b610174565b805b036100c057565b600080fd5b905035906100d2826100b7565b565b909182601f830112156100c05781359167ffffffffffffffff83116100c0576020019260c083028401116100c057565b9160c0838303126100c05761011982846100c5565b9261012783602083016100c5565b9261013581604084016100c5565b9261014382606085016100c5565b9261015183608083016100c5565b9260a082013567ffffffffffffffff81116100c05761017092016100d4565b9091565b346100c057610193610187366004610104565b95949094939193610631565b604051005b0390f35b91906040838203126100c0576101bf9060206101b882866100c5565b94016100c5565b90565b346100c0576101986101de6101d836600461019c565b906106df565b6040519182918290815260200190565b906020828203126100c0576101bf916100c5565b6101bf6101bf6101bf9290565b9061021990610202565b600052602052604060002090565b6101bf916008021c5b60ff1690565b906101bf9154610227565b60006102516101bf92600361020f565b610236565b346100c05761019861027161026c3660046101ee565b610241565b60405191829182901515815260200190565b6101bf9081565b6101bf9054610283565b6101bf90610230565b6101bf9054610294565b6102b290600161020f565b6102bb8161028a565b916102c86001830161028a565b916102d56002820161028a565b916101bf600a6102e76003850161028a565b930161029d565b909594926100d2946103206103279261031960809661031260a088019c6000890152565b6020870152565b6040850152565b6060830152565b019015159052565b346100c05761019861034a6103453660046101ee565b6102a7565b9161035795939560405190565b958695866102ee565b60009103126100c057565b805182526100d29190608090819061038860208201516020860152565b61039760408201516040860152565b6103a660608201516060860152565b0151910152565b90815260c0810192916100d2916020019061036b565b346100c0576103d3366004610360565b6103db610819565b906101986103e860405190565b928392836103ad565b346100c05761019361040436600461019c565b90610850565b60006102516101bf92600261020f565b346100c0576101986102716104303660046101ee565b61040a565b6001600160a01b031690565b6001600160a01b0381166100b9565b905035906100d282610441565b906020828203126100c0576101bf91610450565b6101bf90610435906001600160a01b031682565b6101bf90610471565b6101bf90610485565b906102199061048e565b60006104b06101bf9282610497565b0161028a565b346100c0576101986101de6104cc36600461045d565b6104a1565b90916060828403126100c0576101bf6104ea84846100c5565b9360406101b882602087016100c5565b346100c0576101986101de6105103660046104d1565b91610907565b346100c0576105263660046101ee565b50604051005b634e487b7160e01b600052603260045260246000fd5b91908110156105525760c0020190565b61052c565b634e487b7160e01b600052604160045260246000fd5b90601f01601f1916810190811067ffffffffffffffff82111761058f57604052565b610557565b906100d26105a160405190565b928361056d565b919060c0838203126100c05761061f9060a06105c460c0610594565b946105cf83826100c5565b86526105de83602083016100c5565b60208701526105f083604083016100c5565b604087015261060283606083016100c5565b606087015261061483608083016100c5565b6080870152016100c5565b60a0830152565b6101bf9036906105a8565b505050505061063d8290565b906106486000610202565b821161065357505050565b9091926106606000610202565b835b811015610698576106918161068b610686610681610662958a89610542565b610626565b610a1c565b60010190565b9050610660565b5092505050565b905051906100d2826100b7565b906020828203126100c0576101bf9161069f565b9081526040810192916100d29160200152565b6040513d6000823e3d90fd5b6107249160209173__$036d25039a4b0bb460f2ca15f2d7e6d9a6$__9061070560405190565b80958194829361071963b30c0b6a60e01b90565b8452600484016106c0565b03915af49081156107635760009161073a575090565b6101bf915060203d60201161075c575b610754818361056d565b8101906106ac565b503d61074a565b6106d3565b6101bf60a0610594565b61077a610768565b906000825260208080808086016000815201600081520160008152016000905250565b6101bf610772565b906100d261080960046107b6610768565b946107c76107c38261028a565b8752565b6107dd6107d66001830161028a565b6020880152565b6107f36107ec6002830161028a565b6040880152565b6104b06108026003830161028a565b6060880152565b6080840152565b6101bf906107a5565b60019061082461079d565b506101bf61084b6108396101bf336000610497565b6108428161028a565b9485910161020f565b610810565b907f6ed870f1094df8ae179fc69b273f1d04bfa3209cfd5615f7f958ca38e4973b729161088861087f60405190565b928392836106c0565b0390a1565b67ffffffffffffffff811161058f5760200290565b6108ae6101bf9161088d565b610594565b6108c36108bf60039390565b9190565b6000915b8383106108d45750505050565b6108ee6108e76001928451815260200190565b9260200190565b920191906108c7565b6060810192916100d291906108b3565b60209161095261072494610919600090565b5061094b73__$a390c41b61544fac4fceb1a345840d0d2f$__9361094561094060036108a2565b968752565b86860152565b6040840152565b604051938492839182916320cf0a3760e01b8352600483016108f7565b90600019905b9181191691161790565b9061098f6101bf61099692610202565b825461096f565b9055565b9060ff90610975565b906109b36101bf61099692151590565b825461099a565b6003821015610552570190600090565b9160001960089290920291821b911b610975565b91906109ef6101bf61099693610202565b9083546109ca565b91906109ef6101bf6109969390565b6101bf916008021c81565b906101bf9154610a06565b60a08101805190600291610a38610a33828561020f565b61029d565b8015610cf8575b610b8757600193610a536101bf838761020f565b93610a5d8561028a565b93600094610a6d6108bf87610202565b14610c745750610a7e81860161028a565b4211610c245760608201516080830151926004870193610a9e83866109ba565b610aa892916109de565b6020015190610aba90600788016109ba565b610ac492916109f7565b839173__$a390c41b61544fac4fceb1a345840d0d2f$__90610ae660036108a2565b92610af187836109ba565b610afa91610a11565b87850152610b0889836109ba565b610b1191610a11565b6020850152610b1f916109ba565b610b2891610a11565b604083015260405191829081906320cf0a3760e01b8252610b4c90600483016108f7565b03815a93602094f490811561076357600091610c05575b50610b766108bf6101bf6003880161028a565b14610bfe575b151584151514610b8d575b50505050565b610bde610be592610bd786610bd2600395610bcc7f6ed870f1094df8ae179fc69b273f1d04bfa3209cfd5615f7f958ca38e4973b729a600a8b016109a3565b8661020f565b6109a3565b840161028a565b920161028a565b90610bf261087f60405190565b0390a138808080610b87565b5083610b7c565b610c1e915060203d60201161075c57610754818361056d565b38610b63565b84915085610bd2846104b093610c637fb3f13f29de5da1d79d4718ccd5f080dcdc62e0e86916c8a475520ae1a67cb1d89a600a610c689a999b016109a3565b61020f565b61088861087f60405190565b8293508491610cbc6100d298610cb3610caa610cc995610ca68c89610c9f610cf29e610cd29d015190565b910161097f565b5190565b60038b0161097f565b4390890161097f565b604085015190870161097f565b600a85016109a3565b610cec60606004610ce4608085015190565b950192015190565b906109ba565b906109de565b50610d07610a3382600361020f565b610a3f56fea2646970667358221220784116c045f578472584c8b49dcebb0ece28cee1d56787ef8cfc04699f1613d064736f6c63430008190033",
  "linkReferences": {
    "contracts/hamsa/ucl/util/PoseidonHasher.sol": {
      "PoseidonHasher": [
        {
          "length": 20,
          "start": 1799
        }
      ]
    },
    "contracts/hamsa/ucl/util/poseidonT4.sol": {
      "PoseidonT4": [
        {
          "length": 20,
          "start": 2366
        },
        {
          "length": 20,
          "start": 2791
        }
      ]
    }
  },
  "deployedLinkReferences": {
    "contracts/hamsa/ucl/util/PoseidonHasher.sol": {
      "PoseidonHasher": [
        {
          "length": 20,
          "start": 1768
        }
      ]
    },
    "contracts/hamsa/ucl/util/poseidonT4.sol": {
      "PoseidonT4": [
        {
          "length": 20,
          "start": 2335
        },
        {
          "length": 20,
          "start": 2760
        }
      ]
    }
  }
}
